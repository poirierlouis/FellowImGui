<div id="fig-tree-factory"
     class="widget-bar">
  <div class="widgets">
    @for (category of categories; track category.title) {
      <div>
        @for (builder of category.builders; track builder.type) {
          <mat-icon [svgIcon]="FIGWidgetType[builder.type]"
                    [matTooltip]="builder.title"
                    figDrag
                    [figDragData]="FIGWidgetType[builder.type]">
          </mat-icon>
        }
      </div>
      @if ($index + 1 < categories.length) {
        <mat-divider vertical></mat-divider>
      }
    }
  </div>

  <div class="expand"></div>

  <div class="actions">
    <button mat-icon-button (click)="onFormat()">
      <mat-icon>content_copy</mat-icon>
    </button>
  </div>
</div>

<div class="panels">
  <fig-tree [document]="document"
            (selectWidget)="selectWidget($event)"></fig-tree>

  <fig-canvas [document]="document"></fig-canvas>

  <fig-properties [widget]="selectedWidget"
                  (update)="updateWidget($event)"></fig-properties>
</div>
